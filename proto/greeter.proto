syntax = "proto3";

package greeter;

option go_package = "grpc_practice/gen/greeter/v1;greeterv1";

// 挨拶サービス
service Greeter {
  // 挨拶を作成
  rpc SayHello (HelloRequest) returns (HelloReply);

  // サーバーストリーミング
  rpc SayHelloStream (HelloRequest) returns (stream HelloReply);

  // ユーザーの挨拶一覧を取得
  rpc GetUserGreetings (GetUserGreetingsRequest) returns (GetUserGreetingsReply);
}

message HelloRequest {
  string user_id = 1;
  string name = 2;
}

message HelloReply {
  string id = 1;
  string message = 2;
}

message GetUserGreetingsRequest {
  string user_id = 1;
}

message GetUserGreetingsReply {
  repeated Greeting greetings = 1;
}

message Greeting {
  string id = 1;
  string name = 2;
  string message = 3;
}
